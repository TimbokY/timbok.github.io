import{r as i,bf as e,bh as q,bn as H,bo as P,a2 as G}from"./vendor-fW3smD4x.js";import{r as w,a as O,l as h,D as F,g as J,b as B,f as _,p as S,s as Q}from"./index-DGlesMxm.js";import{F as M,d as o,S as E,B as X,M as C,I as Y,D as K,a as U,b as z,T,e as V,A as Z,Q as ee,s as D,f as se,l as te}from"./antd.bundle-CIKUiC3j.js";import{u as W}from"./index-_0Lhdygp.js";/* empty css              */import"./library.bundle-mtqYSBmT.js";function ne(){const[a,d]=i.useState(w(O.length)),n=()=>{d(s=>s+1>=O.length?0:s+1),h("ç¢Žç¢Žå¿µå¿µ-ç‚¹å‡»æ¢ä¸€æ¢")};return e.jsxs("div",{className:"nes-container is-dark with-title",children:[e.jsx("p",{className:"title",style:{backgroundColor:"#212529"},children:"ç¢Žç¢Žå¿µå¿µ"}),e.jsx("p",{children:e.jsx("span",{children:O[a]})}),e.jsx("p",{style:{textAlign:"right"},className:"animate__animated animate__pulse animate__infinite",onClick:()=>n(),children:"ç‚¹å‡»æ¢ä¸€æ¢"})]})}const ae={required:"è¿™ä¸ªå¿…é¡»ç»™æˆ‘å†™ï¼"};function le(){const[a]=M.useForm(),[{query:d,save:n}]=W("HomeObject","countdownDayList"),[s,l]=i.useState(new Date().toISOString()),[m,f]=i.useState(!1),[y,g]=i.useState(!1),[x,k]=i.useState([]),p=i.useMemo(()=>{let r="";const c=o(`${o().format("YYYY-MM-DD")} 17:30:00`).diff(o(s),"second");if(c>0){const u=Math.floor(c/3600),N=Math.floor(c%3600/60),$=Math.floor(c%60);r=`${u?`${u}å°æ—¶`:""}${N?`${N}åˆ†é’Ÿ`:""}${$?`${$}ç§’`:""}`}return{afterWork:r}},[s]);i.useEffect(()=>{setInterval(()=>{l(o().format(F))},1e3)},[]),i.useEffect(()=>{g(!0),d().then(r=>{r&&k(r),g(!1)})},[]);const j=r=>{g(!0),n(r).then(()=>{g(!1),f(!1),a.resetFields()}).catch(()=>{g(!1)})},b=()=>{a.validateFields().then(r=>{const{title:t,date:c}=r,u=[...x,{id:J(),title:t,date:o(c).format(F)}];k(u),h("æ·»åŠ å€’è®¡æ—¶"),j(u)})},v=r=>{const t=o(o(r).format(B)).diff(o(o(s).format(B)),"day");return t>0?`${t}å¤©`:"å°±åœ¨ä»Šå¤©"},L=r=>{C.confirm({content:"ç¡®å®šåˆ é™¤å—ï¼Ÿ",onOk(){const t=x.filter(c=>r.id!==c.id);k(t),j(t)}})};return e.jsx(E,{spinning:y,children:e.jsxs("section",{className:"showcase",style:{marginTop:24},children:[e.jsxs("section",{className:"nes-container",children:[e.jsxs("h3",{className:"title",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:"å€’æ•°æ—¥â°"}),e.jsx("div",{onClick:()=>f(!0),children:"æ·»åŠ "})]}),e.jsx("div",{style:{fontSize:30,fontWeight:500},children:p.afterWork?e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:["è¿˜æœ‰",e.jsx("div",{style:{fontSize:40},className:"nes-text is-primary",children:p.afterWork}),e.jsx("span",{children:"ä¸‹ç­"})]}):e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:["å·²ç»",e.jsx("div",{style:{fontSize:40},className:"nes-text is-success",children:"ä¸‹ç­"}),"å’¯"]})}),e.jsxs("div",{children:["å½“å‰æ—¶é—´ï¼š",s]}),e.jsx("div",{style:{overflowY:"scroll",maxHeight:190},children:x.map(r=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("span",{children:[e.jsxs("span",{style:{fontSize:20,fontWeight:"bolder"},children:[r.title,"ï¼š"]}),e.jsx("span",{style:{fontSize:40},className:"nes-text is-error",children:v(r.date)})]}),e.jsx(X,{danger:!0,type:"text",onClick:()=>L(r),children:"åˆ é™¤"})]},r.id))})]}),e.jsx(C,{title:"æ·»åŠ å€’è®¡æ—¶",open:m,confirmLoading:y,onOk:b,onCancel:()=>f(!1),children:e.jsxs(M,{form:a,validateMessages:ae,children:[e.jsx(M.Item,{name:"title",label:"æ ‡é¢˜",rules:[{required:!0}],children:e.jsx(Y,{})}),e.jsx(M.Item,{name:"date",label:"æ—¶é—´",rules:[{required:!0}],children:e.jsx(K,{disabledDate:r=>r<o().subtract(1,"day")})})]})})]})})}function ie(){const[a,d]=i.useState(""),[n,s]=i.useState(0),l=()=>{if(n>3){C.info({content:"ä½ å°å­è¿™ä¹ˆæŒ‘ï¼Œé—®é—®ç”·æœ‹å‹å§~",onOk(){s(0)}});return}s(n+1);const m=setInterval(()=>{d(_[w(_.length)])},50);setTimeout(()=>{clearInterval(m)},1500),h("å¹²é¥­")};return e.jsx(e.Fragment,{children:e.jsx("section",{className:"showcase",style:{marginTop:24},children:e.jsxs("section",{className:"nes-container",children:[e.jsx("h3",{className:"title",children:"å¹²é¥­ðŸš"}),e.jsxs("div",{className:"eat",children:[e.jsx("div",{style:{fontSize:30,marginBottom:12},children:a||"ä¸­åˆåƒä»€ä¹ˆï¼Œåƒä»€ä¹ˆï¼Ÿ"}),e.jsx("button",{type:"button",className:"nes-btn is-warning",onClick:l,children:"å¼€å§‹"})]})]})})})}function ce(){const[a,d]=i.useState(""),n=()=>{const s=setInterval(()=>{d(`${S[w(S.length)]};${S[w(S.length)]};${S[w(S.length)]}`)},50);setTimeout(()=>{clearInterval(s)},1500),h("ç”»ç”»")};return e.jsx("section",{className:"showcase",style:{marginTop:24},children:e.jsxs("section",{className:"nes-container",children:[e.jsx("h3",{className:"title",children:"ç”»ç”»âœï¸"}),e.jsxs("div",{className:"eat",children:[e.jsx("div",{style:{fontSize:30,marginBottom:12},children:a||"æƒ³æƒ³ç”»ä»€ä¹ˆï¼Ÿ"}),e.jsx("button",{type:"button",className:"nes-btn is-success",style:{color:"#212529"},onClick:n,children:"å¼€å§‹"})]})]})})}function oe(){const[a,d]=i.useState(localStorage.getItem("background-color")),n=l=>{d(l),Q(l.toRgbString())},s=l=>{h("æ¢èƒŒæ™¯è‰²"),localStorage.setItem("background-color",l.toRgbString())};return e.jsx(U,{presets:[{label:"é¢„è®¾é¢œè‰²",colors:["#002FA7","#003152","#3e2431","#B05923","#900021","#FBD26A","#8F4B28","#01847F","#40E0D0","#81D8CF","#cce8cf","#faf9de","#fff2e2","#fde6e0","#e3edcd","#e9ebfe","#eaeaef","#6697c0","#78bacd","#dce5e6"]}],value:a,onChange:n,onChangeComplete:s,children:e.jsx("span",{style:{display:"flex",flex:"1"},children:"æ¢ä¸ªèƒŒæ™¯"})})}function re(){const a=q(),d=localStorage.getItem("background-color")||"",n=JSON.parse(localStorage.getItem("currentUser")),s=document.getElementById("kyzxAudio"),[l,m]=i.useState(s.paused),f=i.useMemo(()=>({together:o().diff(o("2023-12-30"),"day")}),[]),y=i.useMemo(()=>`${100+o().diff(o("2024-02-23"),"day")/10}%`,[]),g=()=>{C.confirm({content:"ç¡®å®šé€€å‡ºå—ï¼Ÿ",onOk(){h("é€€å‡ºç™»å½•"),localStorage.setItem("isLogin","0"),a("/login")}})},x=({key:j})=>{var b,v;switch(j){case"changeBackground":break;case"logOut":{g();break}case"tea":{h("èŒ¶è¨€èŒ¶è¯­"),C.info({icon:"",title:"è¯·æ‰«äºŒç»´ç ",width:280,closable:!0,maskClosable:!0,footer:null,content:e.jsx(ee,{value:`https://api.lovelive.tools/api/SweetNothings/1/Serialization/Text?genderType=${w(2)==="1"?"M":"F"}`})});break}case"log":{h("è¿›å…¥æ—¥å¿—"),a("/log");break}case"music":{s!=null&&s.paused?(b=s==null?void 0:s.play)==null||b.call(s):(h("å«Œåµï¼Œå¹¶ä¸”å…³é—­äº†éŸ³ä¹~"),(v=s==null?void 0:s.pause)==null||v.call(s)),m(s==null?void 0:s.paused);break}}},k=j=>{j&&m(s.paused)},p=[{key:"changeBackground",label:e.jsx(oe,{})},{key:"tea",label:e.jsx("span",{children:"èŒ¶è¨€èŒ¶è¯­"})},{key:"log",label:e.jsx("span",{children:"æ—¥å¿—"})},{key:"music",label:e.jsx("span",{children:l?"æ’­æ”¾éŸ³ä¹":"æš‚åœéŸ³ä¹"})},{key:"logOut",label:e.jsx("span",{children:"é€€å‡º"})}];return e.jsx("div",{className:"right-badge",children:e.jsxs(z,{wrap:!0,size:24,children:[e.jsx(T,{title:"ðŸŒ™",color:d,children:e.jsxs("a",{className:"nes-badge is-icon",onClick:()=>{a("/diary"),h("è¿›å…¥æœˆå„¿å®å®")},children:[e.jsx("span",{className:"is-dark",children:"hi"}),e.jsx("span",{className:"is-warning",children:"æœˆå„¿å®å®"})]})}),e.jsx(T,{title:"âœ¨âœ¨",color:d,children:e.jsxs("a",{className:"nes-badge is-icon",onClick:()=>{a("/luckyStar"),h("è¿›å…¥ç¦æ˜Ÿ")},children:[e.jsx("span",{className:"is-warning",children:e.jsx("i",{className:"nes-icon star is-small"})}),e.jsx("span",{className:"is-primary",children:"ç¦æ˜Ÿ"})]})}),e.jsx(T,{title:"ðŸ’¯ðŸ’¯ðŸ’¯",color:d,children:e.jsxs("a",{className:"nes-badge is-splited",style:{width:120},onClick:()=>{h("ç‚¹å‡»å–œçˆ±åº¦")},children:[e.jsx("span",{className:"is-dark",children:"å–œçˆ±åº¦"}),e.jsx("span",{className:"is-success",children:y})]})}),e.jsx(T,{title:"ðŸ’›ðŸ’™ðŸ’œâ¤ï¸",color:d,children:e.jsxs("a",{className:"nes-badge is-splited",style:{width:120},onClick:()=>{a("/timeLine"),h("è¿›å…¥æ‹çˆ±TimeLine")},children:[e.jsx("span",{className:"is-dark",children:"æ‹çˆ±"}),e.jsxs("span",{className:"is-error",children:[f.together,"å¤©"]})]})}),e.jsx(V,{arrow:!0,menu:{items:p,onClick:x},onOpenChange:k,children:e.jsxs(z,{children:[e.jsx(Z,{size:"large",style:{backgroundColor:(n==null?void 0:n.username)==="hty"?"#722ed1":"#13c2c2"},icon:(n==null?void 0:n.username)==="hty"?e.jsx(H,{}):e.jsx(P,{})}),e.jsx("span",{style:{fontSize:16},children:n==null?void 0:n.username}),e.jsx(G,{})]})})]})})}function A({maxClicks:a=10,msg:d}){const[n,s]=i.useState(0),[l,m]=i.useState(!1),f=()=>{s(n+1),m(!0)};return i.useEffect(()=>{l&&n>=a&&(D.info(d||"è¿žç»­ç‚¹å‡»äº†10æ¬¡ï¼"),s(0),m(!1))},[n,l]),[f,n,l]}function de(){const[a]=A({maxClicks:2,msg:"htyæ‹äº†æ‹ybçš„è‚šçš®è¢«å¼¹é£ž"}),[d]=A({maxClicks:2,msg:"ybæ‹äº†æ‹htyçš„è„¸ï¼Œå¹¶ä¸”äº²äº†ä¸€å£"}),n=[{left:"å¥½å–œæ¬¢å¥½å–œæ¬¢ã€‚",right:"æˆ‘è¶…è¶…è¶…è¶…è¶…è¶…çˆ±çš„ã€‚"},{left:"ä¹ˆä¹ˆä¹ˆä¹ˆä¹ˆä¹ˆï¼",right:"äº²äº²äº²äº²äº²äº²ï¼"}],s=localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):{};return e.jsx("section",{className:"nes-container is-dark",style:{marginTop:24,padding:12},children:e.jsx("section",{className:"message-list",children:n.map((l,m)=>e.jsxs(i.Fragment,{children:[e.jsxs("section",{className:"message-left",children:[e.jsx("i",{className:s.username==="hty"?"avtar-y":"avtar-h",onClick:f=>{s.username==="hty"?(a(),f.detail===2&&h(`${s.username}æ‹äº†æ‹yb`)):(d(),f.detail===2&&h(`${s.username}æ‹äº†æ‹hty`))}}),e.jsx("div",{className:"nes-balloon from-left is-dark",children:e.jsx("p",{children:l.left})})]}),e.jsxs("section",{className:"message-right",children:[e.jsx("div",{className:"nes-balloon from-right is-dark",children:e.jsx("p",{onClick:l.onClick||(()=>{}),children:l.right})}),e.jsx("i",{className:s.username==="hty"?"avtar-h":"avtar-y",onClick:f=>{s.username==="hty"?(d(),f.detail===2&&h(`${s.username}æ‹äº†æ‹hty`)):(a(),f.detail===2&&h(`${s.username}æ‹äº†æ‹yb`))}})]})]},`message-${m}`))})})}let I=0,R="";function he(){const[{query:a,save:d}]=W("HomeObject","calendarList"),[n,s]=i.useState(o()),[l,m]=i.useState([]),[f,y]=i.useState(""),[g,x]=i.useState(!1),[k,p]=i.useState(!1);i.useEffect(()=>{x(!0),a().then(t=>{t&&m(t),x(!1)})},[]);const j=t=>{switch(D.destroy(),o(t).format("MM-DD")){case"10-05":D.info("ç”Ÿæ—¥å¿«ä¹ðŸŽ‚");break;case"10-09":D.info("ç¼˜åˆ†çš„å¼€å§‹ï¼");break;case"12-30":D.info("è¿™å¤©æ˜¯çºªå¿µæ—¥å“¦ï¼");break}},b=(t,{source:c})=>{c==="date"&&(j(t),I=I+1,I===1&&(R=t),I===2&&o(R).isSame(o(t))?(I=0,s(t),p(!0)):setTimeout(()=>{I=0},300))},v=()=>{const t=o(n).format("YYYY-MM-DD");let c=[];l.find(u=>u.date===t)?c=l.map(u=>u.date===t?{date:u.date,record:f}:u):c=[...l,{date:t,record:f}],c=c.sort((u,N)=>o(u.date).diff(o(N.date))),m(c),h("æ·»åŠ æ—¥åŽ†"),r(c)},L=t=>{C.confirm({content:"ç¡®å®šåˆ é™¤å—ï¼Ÿ",onOk(){const c=l.filter((u,N)=>N!==t);m(c),r(c)}})},r=t=>{x(!0),d(t).then(()=>{x(!1),p(!1),y("")}).catch(()=>{x(!1)})};return e.jsxs(E,{spinning:g,children:[e.jsx("section",{className:"showcase",style:{marginTop:24},children:e.jsxs("section",{className:"nes-container",children:[e.jsxs("h3",{className:"title",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:"æ—¥åŽ†ðŸ“…"}),e.jsx("div",{onClick:()=>s(o()),children:"è¿”å›žä»Šå¤©"})]}),e.jsxs("div",{style:{display:"flex"},children:[e.jsx("div",{style:{width:300},children:e.jsx(se,{locale:te,fullscreen:!1,value:n,onChange:s,onSelect:b})}),l.length>0&&e.jsx("ul",{className:"nes-list is-disc",style:{minWidth:240,height:260,overflowY:"scroll",flex:1},children:l.map((t,c)=>e.jsxs("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between","--color":o(t.date).diff(o(),"day")>=0?"#1677ff":"#d9d9d9"},children:[e.jsx("span",{style:{wordBreak:"break-all"},children:`${t.date}ï¼š${t.record}`}),e.jsx("span",{style:{color:"red",fontSize:24,paddingLeft:4},onClick:()=>L(c),children:"x"})]},`li-${c}`))})]})]})}),e.jsx(C,{title:"è¾“å…¥éœ€è¦è®°å½•çš„äº‹ä»¶",open:k,confirmLoading:g,onOk:v,onCancel:()=>p(!1),children:e.jsx(Y.TextArea,{value:f,onChange:t=>y(t.target.value)})})]})}function pe(){return e.jsxs("div",{className:"home",children:[e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"left",children:[e.jsx(ne,{}),e.jsx(le,{}),e.jsx(ie,{}),e.jsx(ce,{})]}),e.jsxs("div",{className:"right",children:[e.jsx(re,{}),e.jsx(de,{}),e.jsx(he,{})]})]}),e.jsx("div",{className:"footer",children:`Copyright Â© 2024 - ${new Date().getFullYear()} ä¸“å±žHTY All Rights Reserved.`})]})}export{pe as default};
