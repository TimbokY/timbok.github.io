import{A as c}from"./library.bundle-CKhZwB5B.js";import{r as p}from"./vendor-DaXSFPk8.js";import{s as d}from"./antd.bundle-DomgZDOt.js";const y=(o,u)=>{const h=c.Object.extend(o),m=new h,f=new c.Query(o),e=p.useRef(null);return[{query:()=>new Promise((r,s)=>{f.exists(u),f.find().then(t=>{const n=Array.isArray(t)?t[0]:"";n?(e.current=n.id,r(JSON.parse(n.get(u)))):r(null)}).catch(t=>{s(t),d.error("出问题咯！等下刷新后再试试哦，mua~")})}),save:r=>{const s=(e==null?void 0:e.current)||"";return new Promise((t,n)=>{let i=m;s&&(i=c.Object.createWithoutData(o,s)),i.set(u,JSON.stringify(r)),i.save().then(a=>{s||(e.current=r.id),t(a)}).catch(a=>{n(a),d.error("失败咯！等下刷新后再试试哦，mua~")})})},object:m},c]},I=y;export{I as u};
